!function(){function t(t){t.prototype.hide=o.hide,t.prototype.show=o.show,t.prototype.visible=o.visible,t.prototype.disabled=o.disabled,t.prototype.enabled=o.enabled,t.prototype.disable=o.disable,t.prototype.enable=o.enable,t.prototype.setDisabled=o.setDisabled,t.prototype.isEnable=o.isEnable,t.prototype.required=o.required,t.prototype.isRequired=o.isRequired,t.prototype.recommend=o.recommend,t.prototype.isRecommended=o.isRecommended,t.prototype.label=o.label}var e=function(t){if("*"===t)return this.type=null,this.object=null,new r;var e=t.split(":");return this.type=e[0],this.object=e[1],"field"==this.type||"f"==this.type?new n(this.object):"lookup"==this.type||"l"==this.type?new i(this.object):"optionset"==this.type||"o"==this.type?new l(this.object):"iframe"==this.type||"i"==this.type?new s(this.object):"section"==this.type||"s"==this.type?new u(this.object):"t"==this.type||"tab"==this.type?new a(this.object):void 0};window._||(window._=e),e.context=Xrm.Page.context,e.entityName=function(){return Xrm.Page.data.entity.getEntityName()},e.recordId=function(t){return t?1==t?Xrm.Page.data.entity.getId():Xrm.Page.data.entity.getId().replace(/[\{\}]/g,""):Xrm.Page.data.entity.getId()},e.formType=function(){return Xrm.Page.ui.getFormType()},e.formControls=function(){return Xrm.Page.ui.controls},e.userId=function(t){return t?1==t?e.context.getUserId():e.context.getUserId().replace(/[\{\}]/g,""):e.context.getUserId()},e.clientUrl=function(){return e.context.getClientUrl()},e.serverUrl=function(){var t=e.clientUrl(),o=e.orgName();return t.replace(o,"")},e.orgName=function(){return e.context.getOrgUniqueName()};var o={clear:function(){return this.xControl.getAttribute().setValue(null)},hide:function(){return this.xControl.setVisible(!1)},show:function(){return this.xControl.setVisible(!0)},visible:function(t){return this.xControl.setVisible(t)},disabled:function(){return this.xControl.setDisabled(!0)},enabled:function(){return this.xControl.setDisabled(!1)},disable:function(){return this.xControl.setDisabled(!0)},enable:function(){return this.xControl.setDisabled(!1)},setDisabled:function(t){return this.xControl.setDisabled(t)},isEnable:function(){var t=this.xControl.getDisabled();return!t},required:function(t){return 1==t?this.xControl.getAttribute().setRequiredLevel("required"):0==t?this.xControl.getAttribute().setRequiredLevel("none"):null==t||""==t?this.xControl.getAttribute().setRequiredLevel("required"):null},isRequired:function(){return"required"==this.xControl.getRequiredLevel()},recommend:function(){this.xControl.setRequiredLevel("recommended")},isRecommended:function(){return"recommended"==this.xControl.getRequiredLevel()},label:function(t){return t?this.xControl.setLabel(t):this.xControl.getLabel()}},r=function(){return this.xControl=null,this};r.prototype.disable=function(){e.formControls().forEach(function(t){null!=t.getParent()&&null!=t.getParent().getParent()&&"subgrid"!=t.getControlType()&&t.setDisabled(!0)})},r.prototype.enable=function(){e.formControls().forEach(function(t){null!=t.getParent()&&null!=t.getParent().getParent()&&"subgrid"!=t.getControlType()&&t.setDisabled(!1)})};var n=function(e){return this.xControl=Xrm.Page.getControl(e),t(n),this};n.prototype.clear=o.clear,n.prototype.val=function(t){return t?this.xControl.getAttribute().setValue(t):this.xControl.getAttribute().getValue()};var i=function(e){return this.xControl=Xrm.Page.getControl(e),t(i),this};i.prototype.clear=o.clear,i.prototype.val=function(t){if(t){var e=new Array;return e[0]=t,this.xControl.getAttribute().setValue(e)}var o=this.xControl.getAttribute().getValue();return o?(o=o[0],{entityName:o.entityType,id:o.id,name:o.name}):null};var l=function(e){return this.xControl=Xrm.Page.getControl(e),t(l),this};l.prototype.selected=function(){var t=this.xControl.getAttribute();return{text:t.getText(),value:t.getValue()}},l.prototype.clear=function(){return this.xControl.clearOptions()},l.prototype.options=function(){var t=[],e=this.xControl.getAttribute().getOptions();for(var o in e)"null"!=e[o].value&&t.push({text:e[o].text,value:e[o].value});return t},l.prototype.labels=function(){var t=[],e=this.options();for(var o in e)"null"!=e[o].text&&t.push(e[o].text);return t},l.prototype.values=function(){var t=[],e=this.options();for(var o in e)"null"!=e[o].value&&t.push(e[o].value);return t},l.prototype.addOption=function(t,e){return this.xControl.addOption(t,e)},l.prototype.removeOption=function(t){return this.xControl.removeOption(t)},l.prototype.getOption=function(t){var e=this.xControl.getAttribute().getOption(t);return{text:e.text,value:e.value}};var s=function(t){return this.xControl=Xrm.Page.getControl(t),this};s.prototype.hide=o.hide,s.prototype.show=o.show,s.prototype.url=function(t){return t?this.xControl.setSrc(t):this.xControl.getSrc()},s.prototype.clear=function(){return this.url("about:blank")};var u=function(t){var e=null,o=Xrm.Page.ui.tabs.get();for(var r in o){var n=o[r];n.sections.forEach(function(o){o.getName()==t&&(e=o)})}return this.xControl=e,this};u.prototype.hide=o.hide,u.prototype.show=o.show,u.prototype.label=o.label;var a=function(t){return this.xControl=Xrm.Page.ui.tabs.get(t),this};a.prototype.hide=o.hide,a.prototype.show=o.show,a.prototype.label=o.label,a.prototype.expand=function(){this.xControl.setDisplayState("expanded")},a.prototype.collapse=function(){this.xControl.setDisplayState("collapsed")},a.prototype.sections=function(){var t=this.xControl,e=[];return t.sections.forEach(function(t){e.push(t)}),e}}();
